<html>
	<head>
		<title>Adam Kulpa</title>
		<link type="text/css" rel="stylesheet" href="css/main.css">
		<script>
			window.onload = function() {
				var t = document.getElementById('landing-title');
				t.style.opacity = '1';
				t.style.top = '30%';
			};
		</script>
	</head>
	<body>
		<svg id="anim-container">
		</svg>
		<h1 id="landing-title" class="reveal">freelance <br> web developer</h1>
		 <div class="wrapper">
			<div class="content-box">
				<h2 class="content-title">responsive design</h2>
			</div>
			<div class="content-box odd">
				<h2 class="content-title">secure websites</h2>
			</div>
			<div class="content-box">
				<h2 class="content-title">basic css/svg animations</h2>
			</div>
			<div class="content-box odd">
				<h2 class="content-title">login systems</h2>
			</div>			
		 </div>
	</body>
	<script>
		var title = document.getElementById("landing-title");
		window.setTimeout(function () {
			document.onscroll = function() {
			title.style.top = 30 + window.pageYOffset/50 + "%";
		}}, 2000);
		window.setTimeout(function () {title.classList.remove("reveal")}, 1500);
		

		var svgNS = "http://www.w3.org/2000/svg";
		var svg = document.getElementById("anim-container");

		var rectNum = 7;
		var newRect;
		var x, y, rx, ry, width, height, style;

		for (var i = 0; i < rectNum; i++){
			newRect = document.createElementNS(svgNS, "rect");

			x = (Math.random()-0.7)*200;
			y = (i*100/rectNum) + "%";
			width = Math.floor(Math.random() * 50 + 10);
			height = width*2;
			rx = Math.floor(width/3);
			ry = rx;
			time = 45 * Math.random() + 25;

			newRect.setAttributeNS(null, "y", y);
			newRect.setAttributeNS(null, "x", "-100%");
			newRect.setAttributeNS(null, "rx", rx);
			newRect.setAttributeNS(null, "ry", ry);
			newRect.setAttributeNS(null, "width", width + "%");
			newRect.setAttributeNS(null, "height", height);
			newRect.setAttributeNS(null, "style", "fill:rgb(15,15,"+(30+30*Math.random())+");");

			var initialAnimation = document.createElementNS(svgNS, "animate");
			initialAnimation.setAttributeNS(null, "attributeName", "x");
			initialAnimation.setAttributeNS(null, "id", "initanim" + i);
			initialAnimation.setAttributeNS(null, "from", x + "%");
			initialAnimation.setAttributeNS(null, "to", "100%");
			initialAnimation.setAttributeNS(null, "dur", time);

			var animation = document.createElementNS(svgNS, "animate");
			animation.setAttributeNS(null, "attributeName", "x");
			animation.setAttributeNS(null, "from", -width+"%");
			animation.setAttributeNS(null, "to", "100%");
			animation.setAttributeNS(null, "begin", "initanim" + i + ".end");
			animation.setAttributeNS(null, "repeatCount", "indefinite");
			animation.setAttributeNS(null, "dur", time);
			
			newRect.appendChild(initialAnimation);
			newRect.appendChild(animation);
			svg.appendChild(newRect);	
		}
	</script>
</html>